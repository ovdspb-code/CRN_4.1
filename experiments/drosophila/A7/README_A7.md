# A7: Real connectome benchmark — diagonal disorder + thermal baseline (Bridge‑A)

This step extends A3/A6 on the real Mushroom Body connectome benchmark by:
1) Adding diagonal energy disorder E_i ~ U[-ε, +ε] on the *same* active subgraph.
2) Adding a barrier‑limited classical competitor (CRW_thermal) with Metropolis‑like uphill suppression at temperature T_env.

The goal is to directly test the “energy / dirty substrate” claim: does GKSL/CRN‑like Stage‑I remain functional (or become advantageous) when classical thermal hopping is trapped by barriers?

## Inputs
- `bench_config_extended.json` (or `bench_config_core.json`) generated by A2.
- The corresponding graph file `graph.graphml` referenced by `graphml_source` inside the config.

## Output artifacts (raw)
- `A7_gksl_sweep.csv`
  - Columns: mode, epsilon, trial, kappa, P_sink_T_end, P_sink_D_end, Selectivity_end, coverage_end
- `A7_baselines.csv`
  - Contains CRW (topological) and CRW_thermal (temperature‑limited) baselines at the same (epsilon, trial).
- `A7_energy_seeds.csv`
  - Reproducibility: which RNG seed was used for energies at each (epsilon, trial).
- `A7_meta.json`
  - Config snapshot + key parameters.

## How to run (recommended: “smoke test” first)

### 1) Quick smoke test (small grid)
```bash
python3 A7_run_disorder_thermal_benchmark.py \
  --config /Users/ovd/Documents/СRN/DROSOF/REAL/A2_outputs/bench_config_extended.json \
  --out_dir /Users/ovd/Documents/СRN/DROSOF/REAL/A7_outputs_smoke \
  --epsilons 0,2 \
  --n_trials 2 \
  --T_envs 0.1,1.0
```

You should see `A7_gksl_sweep.csv` and `A7_baselines.csv` in the output folder.

### 2) Analysis / plots
```bash
python3 A7_analyze_disorder_results.py \
  --a7_dir /Users/ovd/Documents/СRN/DROSOF/REAL/A7_outputs_smoke \
  --out_dir /Users/ovd/Documents/СRN/DROSOF/REAL/A7_outputs_smoke/analysis \
  --lambda_ 1.0 \
  --chi 0.01 \
  --pT_min 0.005
```

Outputs:
- `A7_summary_by_epsilon.csv`
- Plots (if matplotlib is available).

### 3) Full run (publication-facing)
After the smoke test passes:
```bash
python3 A7_run_disorder_thermal_benchmark.py \
  --config /Users/ovd/Documents/СRN/DROSOF/REAL/A2_outputs/bench_config_extended.json \
  --out_dir /Users/ovd/Documents/СRN/DROSOF/REAL/A7_outputs \
  --epsilons 0,1,2,3,5 \
  --n_trials 10 \
  --T_envs 0.1,1.0
```

Then analyze:
```bash
python3 A7_analyze_disorder_results.py \
  --a7_dir /Users/ovd/Documents/СRN/DROSOF/REAL/A7_outputs \
  --out_dir /Users/ovd/Documents/СRN/DROSOF/REAL/A7_outputs/analysis \
  --lambda_ 1.0 \
  --chi 0.01 \
  --pT_min 0.005
```

## Notes / interpretation hints
- Expect a tradeoff: high kappa can inflate Selectivity_end while collapsing coverage_end (Zeno-like slowdown). This is why the analysis reports:
  - constrained Selectivity_end (P_sink_T_end >= pT_min),
  - Utility = P_sink_T_end − λ·P_sink_D_end,
  - and InfoPerCost = Utility / (coverage_end + χ).
- The thermal baseline is *not* meant to be “the best possible classical model”, only a barrier‑limited control matching the CRN narrative (energetic traps).

## What to upload back to ChatGPT for A8
From your `A7_outputs/analysis/` folder upload:
- `A7_summary_by_epsilon.csv`
- the PNG plots
- (optionally) the raw CSVs if you want me to recompute anything.
